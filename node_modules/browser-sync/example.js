
var browserSync = require("./index");
var connect = require("connect");
var sass = require("gulp-ruby-sass");
var _    = require("lodash");
var http = require("http");

console.time("init");

var files = ["test/fixtures/assets/*"];

var options = {
    server: {
        baseDir: "./test/fixtures"
    },
//    proxy: "swoon.static/store-home.php",
    files: "test/fixtures/*.html",
////    tunnel: true,
//    codeSync: false,
//    port: 8080,
//    online: false,
    open: false
//    logFileChanges: false
//    https: true,
//    tunnel: true,
//    logConnections: false,
//    minify: false,
////    logLevel: "silent",
//    notify: true,
//    browser: ["Safari"]
};

//var clientScript = require("/Users/shakyshane/Sites/browser-sync-modules/browser-sync-client/index");
//clientScript.name = "client:script";


//var cp = require("/Users/shakyshane/Sites/browser-sync-modules/browser-sync-cp/index");
//
////console.log(cp);
//
//var validUrls = [];
//
//browserSync.use({
//    name: "custom",
//    plugin: function (bs) {
//
//    }
//});


var instance = browserSync(options);

instance.events.on("file:changed", function (data) {

    console.log("CHANGED");
//    if (data.namespace === "core") {
//        console.log("FILE Chanegd");
//    } else {
//        console.log("File change, but not in the core namespace");
//    }
//    console.log(data.namespace);
});

